package CQRS.Kotlin.textGen;

/*Generated by MPS */

import jetbrains.mps.text.rt.TextGenDescriptorBase;
import jetbrains.mps.text.rt.TextGenContext;
import jetbrains.mps.text.impl.TextGenSupport;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SEnumOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import CQRS.Generation.behavior.MethodOutput__BehaviorDescriptor;
import CQRS.Kotlin.behavior.KotlinElementOutput__BehaviorDescriptor;
import CQRS.Generation.textGen.CqrsTextGenComponents;
import org.jetbrains.mps.openapi.language.SProperty;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SReferenceLink;

public class MethodKotlinOutput_TextGen extends TextGenDescriptorBase {
  @Override
  public void generateText(final TextGenContext ctx) {
    final TextGenSupport tgs = new TextGenSupport(ctx);
    String modifier = (SEnumOperations.isMember(SPropertyOperations.getEnum(ctx.getPrimaryInput(), PROPS.modifier$GQxw), 0x2a075c4547294cdL) ? "" : SEnumOperations.getMemberPresentation(SPropertyOperations.getEnum(ctx.getPrimaryInput(), PROPS.modifier$GQxw)) + " ");
    String overrideModifier = (SPropertyOperations.getBoolean(ctx.getPrimaryInput(), PROPS.isOverriding$_pUI) ? "override " : "");

    tgs.append(modifier);
    tgs.append(overrideModifier);
    tgs.append("fun ");
    tgs.append(SPropertyOperations.getString(ctx.getPrimaryInput(), PROPS.name$PRHY));
    tgs.append("(");
    KotlinTextGenComponents.parameters(SLinkOperations.getChildren(ctx.getPrimaryInput(), LINKS.parameters$F5jo), SPropertyOperations.getBoolean(ctx.getPrimaryInput(), PROPS.hasVerticallyAlignedParameters$N1Bl), ctx);
    tgs.append(")");

    if ((boolean) MethodOutput__BehaviorDescriptor.hasReturnValue_idp4fykJ0jWj.invoke(ctx.getPrimaryInput())) {
      tgs.append(" : ");
      tgs.appendNode(KotlinElementOutput__BehaviorDescriptor.mapper_id2Np_kya0npo.invoke(ctx.getPrimaryInput()).mapDataType(SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.returnType$FbaL)));
    }

    if (SPropertyOperations.getBoolean(ctx.getPrimaryInput(), PROPS.isInInterface$qwbM)) {
      return;
    }

    tgs.append(" {");
    CqrsTextGenComponents.newLine(ctx);

    tgs.increaseIndent();
    if ((SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.property$h$fI) != null)) {
      tgs.indent();
      tgs.append("return ");
      tgs.append(SPropertyOperations.getString(SLinkOperations.getTarget(ctx.getPrimaryInput(), LINKS.property$h$fI), PROPS.name$MnvL));
      CqrsTextGenComponents.newLine(ctx);
    } else {
      tgs.indent();
      tgs.append("TODO(\"Not yet implemented\")");
      CqrsTextGenComponents.newLine(ctx);
    }
    tgs.decreaseIndent();

    tgs.indent();
    tgs.append("}");
  }

  private static final class PROPS {
    /*package*/ static final SProperty modifier$GQxw = MetaAdapterFactory.getProperty(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x6443e252ebba4d0L, "modifier");
    /*package*/ static final SProperty isOverriding$_pUI = MetaAdapterFactory.getProperty(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x2cd995488a1f3a2dL, "isOverriding");
    /*package*/ static final SProperty name$PRHY = MetaAdapterFactory.getProperty(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x1a77dd18daeac9edL, "name");
    /*package*/ static final SProperty hasVerticallyAlignedParameters$N1Bl = MetaAdapterFactory.getProperty(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x6443e252ef7adb4L, "hasVerticallyAlignedParameters");
    /*package*/ static final SProperty isInInterface$qwbM = MetaAdapterFactory.getProperty(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x2cd995488a013454L, "isInInterface");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink parameters$F5jo = MetaAdapterFactory.getContainmentLink(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x1a77dd18dac2db35L, "parameters");
    /*package*/ static final SContainmentLink returnType$FbaL = MetaAdapterFactory.getContainmentLink(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x1a77dd18dac2db39L, "returnType");
    /*package*/ static final SReferenceLink property$h$fI = MetaAdapterFactory.getReferenceLink(0x273bc31819694c83L, 0x8484525ea753e78bL, 0x607c1e67c05d1524L, 0x2cd995488a1f6bceL, "property");
  }
}
